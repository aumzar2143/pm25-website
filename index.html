<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤ PM2.5</title>
    <style>
        body { font-family: Arial; text-align: center; margin-top: 50px; }
        .box { padding:20px; border-radius:10px; display:inline-block; }
    </style>
</head>
<body>

<h2>üå´ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤ PM2.5 ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</h2>
<div class="box" id="result">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>

<script>
async function getPM25() {
    try {
        const apiKey = "05dc64914ef2d1b7c4d2678a15450338e660ea53";
        const city = "bangkok";
        const url = `https://api.waqi.info/feed/${city}/?token=${apiKey}`;

        const response = await fetch(url);
        const data = await response.json();

        if (data.status !== "ok") {
            throw new Error("API Error");
        }

        const pm25 = data.data.iaqi.pm25.v;

        document.getElementById("result").innerHTML = 
            `<h3>‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø</h3>
             <p>‡∏Ñ‡πà‡∏≤ PM2.5 = ${pm25} ¬µg/m¬≥</p>`;

    } catch (error) {
        document.getElementById("result").innerHTML =
            `<p style="color:red;">‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚ùå</p>`;
    }
}

getPM25();
</script>

</body>
</html>
