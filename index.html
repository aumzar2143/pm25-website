<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Healthy Air Happy Life</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
    font-family: Arial, sans-serif;
    background: linear-gradient(to bottom, #4facfe, #00f2fe);
    text-align:center;
    color:white;
    margin:0;
    padding:20px;
}
.card{
    background:white;
    color:black;
    padding:25px;
    border-radius:20px;
    box-shadow:0 8px 20px rgba(0,0,0,0.2);
    max-width:350px;
    margin:auto;
}
select, button{
    padding:10px;
    margin:10px 0;
    border-radius:10px;
    border:none;
    font-size:16px;
}
button{
    background:#4facfe;
    color:white;
    cursor:pointer;
}
.level{
    font-size:18px;
    font-weight:bold;
}
</style>
</head>
<body>

<h2>üå´ Healthy Air Happy Life</h2>

<div class="card">
    <select id="city">
        <option value="bangkok">‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø</option>
        <option value="chiang-mai">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</option>
        <option value="khon-kaen">‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô</option>
        <option value="phuket">‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï</option>
    </select>

    <div id="result">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>

    <button onclick="getPM25()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
</div>

<script>
async function getPM25(){
    try{
        const apiKey="05dc64914ef2d1b7c4d2678a15450338e660ea53";
        const city=document.getElementById("city").value;
        const url=`https://api.waqi.info/feed/${city}/?token=${apiKey}`;

        const response=await fetch(url);
        const data=await response.json();
        if(data.status!=="ok") throw new Error("API error");

        const pm25=data.data.iaqi.pm25.v;

        let level="‡∏î‡∏µ üòä";
        let advice="‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥";
        let color="green";

        if(pm25>25){
            level="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á üòê";
            advice="‡∏Ñ‡∏ß‡∏£‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô";
            color="orange";
        }
        if(pm25>50){
            level="‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö üò∑";
            advice="‡∏Ñ‡∏ß‡∏£‡∏™‡∏ß‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á";
            color="orangered";
        }
        if(pm25>90){
            level="‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢ üö®";
            advice="‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á";
            color="red";
        }

        document.getElementById("result").innerHTML=`
            <h3>‡∏Ñ‡πà‡∏≤ PM2.5</h3>
            <h1 style="color:${color}">${pm25} ¬µg/m¬≥</h1>
            <div class="level" style="color:${color}">${level}</div>
            <p>${advice}</p>
        `;
    }
    catch(error){
        document.getElementById("result").innerHTML=
        `<p style="color:red;">‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚ùå</p>`;
    }
}

getPM25();
</script>

</body>
</html>
