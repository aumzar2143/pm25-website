<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PM2.5 Ultra Pro</title>

<style>
body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg,#FFD54F,#FFB300);
}

.container{
    max-width:1000px;
    margin:auto;
    padding:20px;
}

.card{
    background:white;
    border-radius:20px;
    padding:30px;
    margin-bottom:20px;
    box-shadow:0 10px 30px rgba(0,0,0,0.2);
    text-align:center;
}

h1{
    margin:0;
}

.pm-value{
    font-size:80px;
    font-weight:bold;
    margin:20px 0;
}

.status{
    font-size:22px;
    font-weight:600;
}

select,button{
    padding:10px 15px;
    font-size:16px;
    border-radius:10px;
    border:none;
    margin:5px;
}

button{
    cursor:pointer;
    background:#FF7043;
    color:white;
    font-weight:bold;
}

button:hover{
    opacity:0.8;
}

.table{
    width:100%;
    border-collapse:collapse;
}

.table th,.table td{
    padding:10px;
    border-bottom:1px solid #eee;
}

.rank1{background:#ff5252;color:white;}
.rank2{background:#ff7043;color:white;}
.rank3{background:#ffa726;color:white;}
</style>
</head>

<body>

<div class="container">

<div class="card">
    <h1>üå´Ô∏è PM2.5 Real-Time Ultra Pro</h1>

    <select id="provinceSelect">
        <option value="lampang">‡∏•‡∏≥‡∏õ‡∏≤‡∏á</option>
        <option value="chiangmai">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</option>
        <option value="bangkok">‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø</option>
        <option value="chiangrai">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢</option>
    </select>

    <button onclick="loadData()">üîÑ ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
    <button onclick="resetData()">‚ôªÔ∏è ‡∏£‡∏µ‡πÄ‡∏ã‡∏ó</button>

    <div class="pm-value" id="pmValue">--</div>
    <div class="status" id="statusText">‡∏£‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>
</div>

<div class="card">
    <h2>üèÜ Top 10 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢</h2>
    <table class="table" id="rankingTable">
        <thead>
            <tr>
                <th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
                <th>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</th>
                <th>‡∏Ñ‡πà‡∏≤ PM2.5</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

</div>

<script>

// ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡∏ï‡πà‡∏≠ API ‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ)
const data = {
    lampang: 100,
    chiangmai: 145,
    bangkok: 85,
    chiangrai: 170
};

function getStatus(pm){
    if(pm <= 50) return "üü¢ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ‡∏°‡∏≤‡∏Å";
    if(pm <= 100) return "üü° ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á";
    if(pm <= 150) return "üü† ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö";
    if(pm <= 200) return "üî¥ ‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢";
    return "üü£ ‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏°‡∏≤‡∏Å";
}

function loadData(){
    const province = document.getElementById("provinceSelect").value;
    const pm = data[province];

    document.getElementById("pmValue").innerText = pm;
    document.getElementById("statusText").innerText = getStatus(pm);

    generateRanking();
}

function resetData(){
    document.getElementById("pmValue").innerText = "--";
    document.getElementById("statusText").innerText = "‡∏£‡∏µ‡πÄ‡∏ã‡∏ó‡πÅ‡∏•‡πâ‡∏ß ‚ôªÔ∏è";
    document.querySelector("#rankingTable tbody").innerHTML = "";
}

function generateRanking(){
    const tbody = document.querySelector("#rankingTable tbody");
    tbody.innerHTML = "";

    const sorted = Object.entries(data)
        .sort((a,b)=> b[1]-a[1]);

    sorted.forEach((item,index)=>{
        const row = document.createElement("tr");

        if(index==0) row.classList.add("rank1");
        if(index==1) row.classList.add("rank2");
        if(index==2) row.classList.add("rank3");

        row.innerHTML = `
            <td>${index+1}</td>
            <td>${item[0]}</td>
            <td>${item[1]}</td>
        `;
        tbody.appendChild(row);
    });
}

// ‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö
window.onload = loadData;

</script>

</body>
</html>
